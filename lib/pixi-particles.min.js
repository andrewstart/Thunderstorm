this.PIXI=this.PIXI||{},function(t,e,i,s,r,a,n,h){"use strict";class o{constructor(e,i,s){this.value=e,this.time=i,this.next=null,this.isStepped=!1,this.ease=s?"function"==typeof s?s:t.ParticleUtils.generateEase(s):null}static createList(e){if("list"in e){const i=e.list;let s;const{value:r,time:a}=i[0],n=s=new o("string"==typeof r?t.ParticleUtils.hexToRGB(r):r,a,e.ease);if(i.length>2||2===i.length&&i[1].value!==r)for(let e=1;e<i.length;++e){const{value:r,time:a}=i[e];s.next=new o("string"==typeof r?t.ParticleUtils.hexToRGB(r):r,a),s=s.next}return n.isStepped=!!e.isStepped,n}const i=new o("string"==typeof e.start?t.ParticleUtils.hexToRGB(e.start):e.start,0);return e.end!==e.start&&(i.next=new o("string"==typeof e.end?t.ParticleUtils.hexToRGB(e.end):e.end,1)),i}}const l=e.Texture.from;function c(t){return l(t)}!function(t){t.verbose=!1,t.DEG_TO_RADS=Math.PI/180,t.rotatePoint=function(t,e){if(!t)return;const i=Math.sin(t),s=Math.cos(t),r=e.x*s-e.y*i,a=e.x*i+e.y*s;e.x=r,e.y=a},t.combineRGBComponents=function(t,e,i){return t<<16|e<<8|i},t.normalize=function(e){const i=1/t.length(e);e.x*=i,e.y*=i},t.scaleBy=function(t,e){t.x*=e,t.y*=e},t.length=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.hexToRGB=function(t,e){let i;return e||(e={}),"#"===t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2)),8===t.length&&(i=t.substr(0,2),t=t.substr(2)),e.r=parseInt(t.substr(0,2),16),e.g=parseInt(t.substr(2,2),16),e.b=parseInt(t.substr(4,2),16),i&&(e.a=parseInt(i,16)),e},t.generateEase=function(t){const e=t.length,i=1/e;return function(s){const r=e*s|0,a=(s-r*i)*e,n=t[r]||t[e-1];return n.s+a*(2*(1-a)*(n.cp-n.s)+a*(n.e-n.s))}},t.getBlendMode=function(t){if(!t)return i.BLEND_MODES.NORMAL;for(t=t.toUpperCase();t.indexOf(" ")>=0;)t=t.replace(" ","_");return i.BLEND_MODES[t]||i.BLEND_MODES.NORMAL},t.createSteppedGradient=function(e,i=10){("number"!=typeof i||i<=0)&&(i=10);const s=new o(t.hexToRGB(e[0].value),e[0].time);s.isStepped=!0;let r=s,a=e[0],n=1,h=e[n];for(let s=1;s<i;++s){let l=s/i;for(;l>h.time;)a=h,h=e[++n];l=(l-a.time)/(h.time-a.time);const c=t.hexToRGB(a.value),d=t.hexToRGB(h.value),p={r:(d.r-c.r)*l+c.r,g:(d.g-c.g)*l+c.g,b:(d.b-c.b)*l+c.b};r.next=new o(p,s/i),r=r.next}return s}}(t.ParticleUtils||(t.ParticleUtils={}));class d extends s.Sprite{constructor(t){super(),this.prevChild=this.nextChild=null,this.emitter=t,this.config={},this.anchor.x=this.anchor.y=.5,this.maxLife=0,this.age=0,this.agePercent=0,this.oneOverLife=0,this.next=null,this.prev=null,this.init=this.init,this.Sprite_destroy=super.destroy,this.kill=this.kill}init(t){this.maxLife=t,this.age=this.agePercent=0,this.rotation=0,this.position.x=this.position.y=0,this.scale.x=this.scale.y=1,this.tint=16777215,this.alpha=1,this.oneOverLife=1/this.maxLife,this.visible=!0}kill(){this.emitter.recycle(this)}destroy(){this.parent&&this.parent.removeChild(this),this.Sprite_destroy(),this.emitter=this.next=this.prev=null}}var p;!function(t){t[t.Spawn=0]="Spawn",t[t.Normal=2]="Normal",t[t.Late=5]="Late"}(p||(p={}));const u=n.Ticker.shared,m=Symbol("Position particle per emitter position");class f{constructor(t,e){this.initBehaviors=[],this.updateBehaviors=[],this.recycleBehaviors=[],this.minLifetime=0,this.maxLifetime=0,this.customEase=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=new a.Point,this.particlesPerWave=1,this.rotation=0,this.ownerPos=new a.Point,this._prevEmitterPos=new a.Point,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=t,e&&this.init(e),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}static registerBehavior(t){f.knownBehaviors[t.type]=t}get frequency(){return this._frequency}set frequency(t){this._frequency="number"==typeof t&&t>0?t:1}get parent(){return this._parent}set parent(t){this.cleanup(),this._parent=t}init(e){if(!e)return;this.cleanup(),this._origConfig=e,this.minLifetime=e.lifetime.min,this.maxLifetime=e.lifetime.max,e.ease?this.customEase="function"==typeof e.ease?e.ease:t.ParticleUtils.generateEase(e.ease):this.customEase=null,this.particlesPerWave=1,e.particlesPerWave&&e.particlesPerWave>1&&(this.particlesPerWave=e.particlesPerWave),this.frequency=e.frequency,this.spawnChance="number"==typeof e.spawnChance&&e.spawnChance>0?e.spawnChance:1,this.emitterLifetime=e.emitterLifetime||-1,this.maxParticles=e.maxParticles>0?e.maxParticles:1e3,this.addAtBack=!!e.addAtBack,this.rotation=0,this.ownerPos.set(0),e.pos?this.spawnPos.copyFrom(e.pos):this.spawnPos.set(0),this._prevEmitterPos.copyFrom(this.spawnPos),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===e.emit||!!e.emit,this.autoUpdate=!!e.autoUpdate;const i=e.behaviors.map(t=>{const e=f.knownBehaviors[t.type];return e?new e(t.config):(console.error(`Unknown behavior: ${t.type}`),null)}).filter(t=>!!t);i.push(m),i.sort((t,e)=>t===m?e.order===p.Spawn?1:-1:e===m?t.order===p.Spawn?-1:1:t.order-e.order),this.initBehaviors=i.slice(),this.updateBehaviors=i.filter(t=>t!==m&&t.updateParticle),this.recycleBehaviors=i.filter(t=>t!==m&&t.recycleParticle)}getBehavior(t){return this.initBehaviors.find(e=>e instanceof f.knownBehaviors[t])||null}fillPool(t){for(;t>0;--t){const t=new d(this);t.next=this._poolFirst,this._poolFirst=t}}recycle(t,e=!1){for(let i=0;i<this.recycleBehaviors.length;++i)this.recycleBehaviors[i].recycleParticle(t,!e);t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===this._activeParticlesLast&&(this._activeParticlesLast=t.prev),t===this._activeParticlesFirst&&(this._activeParticlesFirst=t.next),t.prev=null,t.next=this._poolFirst,this._poolFirst=t,t.parent&&t.parent.removeChild(t),--this.particleCount}rotate(e){if(this.rotation===e)return;const i=e-this.rotation;this.rotation=e,t.ParticleUtils.rotatePoint(i,this.spawnPos),this._posChanged=!0}updateSpawnPos(t,e){this._posChanged=!0,this.spawnPos.x=t,this.spawnPos.y=e}updateOwnerPos(t,e){this._posChanged=!0,this.ownerPos.x=t,this.ownerPos.y=e}resetPositionTracking(){this._prevPosIsValid=!1}get emit(){return this._emit}set emit(t){this._emit=!!t,this._emitterLife=this.emitterLifetime}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){this._autoUpdate&&!t?u.remove(this.update,this):!this._autoUpdate&&t&&u.add(this.update,this),this._autoUpdate=!!t}playOnceAndDestroy(t){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=t}playOnce(t){this.emit=!0,this._completeCallback=t}update(e){if(this._autoUpdate&&(e=e/r.settings.TARGET_FPMS/1e3),!this._parent)return;for(let t,i=this._activeParticlesFirst;i;i=t)if(t=i.next,i.age+=e,i.age>i.maxLife||i.age<0)this.recycle(i);else{let t=i.age*i.oneOverLife;this.customEase&&(t=4===this.customEase.length?this.customEase(t,0,1,1):this.customEase(t)),i.agePercent=t;for(let t=0;t<this.updateBehaviors.length;++t)this.updateBehaviors[t].updateParticle(i,e)}let i,s;this._prevPosIsValid&&(i=this._prevEmitterPos.x,s=this._prevEmitterPos.y);const a=this.ownerPos.x+this.spawnPos.x,n=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=e<0?0:e;this._spawnTimer<=0;){if(this._emitterLife>=0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles){this._spawnTimer+=this._frequency;continue}let r,h;if(this._prevPosIsValid&&this._posChanged){const t=1+this._spawnTimer/e;r=(a-i)*t+i,h=(n-s)*t+s}else r=a,h=n;let o=null,l=null;for(let t=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount),e=0;e<t;++e){if(this.spawnChance<1&&Math.random()>=this.spawnChance)continue;let t,e;(t=this.minLifetime===this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer>=t)||(this._poolFirst?(e=this._poolFirst,this._poolFirst=this._poolFirst.next,e.next=null):e=new d(this),e.init(t),this.addAtBack?this._parent.addChildAt(e,0):this._parent.addChild(e),o?(l.next=e,e.prev=l,l=e):l=o=e,++this.particleCount)}if(o){this._activeParticlesLast?(this._activeParticlesLast.next=o,o.prev=this._activeParticlesLast,this._activeParticlesLast=l):(this._activeParticlesFirst=o,this._activeParticlesLast=l);for(let i=0;i<this.initBehaviors.length;++i){const s=this.initBehaviors[i];if(s===m)for(let i,s=o;s;s=i){i=s.next,0!==this.rotation&&(t.ParticleUtils.rotatePoint(this.rotation,s.position),s.rotation+=this.rotation),s.position.x+=r,s.position.y+=h,s.age+=e;let a=s.age*s.oneOverLife;this.customEase&&(a=4===this.customEase.length?this.customEase(a,0,1,1):this.customEase(a)),s.agePercent=a}else s.initParticles(o)}for(let t,e=o;e;e=t){t=e.next;for(let t=0;t<this.updateBehaviors.length;++t)this.updateBehaviors[t].updateParticle(e,-this._spawnTimer)}}this._spawnTimer+=this._frequency}if(this._posChanged&&(this._prevEmitterPos.x=a,this._prevEmitterPos.y=n,this._prevPosIsValid=!0,this._posChanged=!1),!this._emit&&!this._activeParticlesFirst){if(this._completeCallback){const t=this._completeCallback;this._completeCallback=null,t()}this._destroyWhenComplete&&this.destroy()}}emitNow(){const e=this.ownerPos.x+this.spawnPos.x,i=this.ownerPos.y+this.spawnPos.y;let s=null,r=null;for(let t=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount),e=0;e<t;++e){if(this.spawnChance<1&&Math.random()>=this.spawnChance)continue;let t,e;this._poolFirst?(t=this._poolFirst,this._poolFirst=this._poolFirst.next,t.next=null):t=new d(this),e=this.minLifetime===this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,t.init(e),this.addAtBack?this._parent.addChildAt(t,0):this._parent.addChild(t),s?(r.next=t,t.prev=r,r=t):r=s=t,++this.particleCount}if(s){this._activeParticlesLast?(this._activeParticlesLast.next=s,s.prev=this._activeParticlesLast,this._activeParticlesLast=r):(this._activeParticlesFirst=s,this._activeParticlesLast=r);for(let r=0;r<this.initBehaviors.length;++r){const a=this.initBehaviors[r];if(a===m)for(let r,a=s;a;a=r)r=a.next,0!==this.rotation&&(t.ParticleUtils.rotatePoint(this.rotation,a.position),a.rotation+=this.rotation),a.position.x+=e,a.position.y+=i;else a.initParticles(s)}}}cleanup(){let t,e;for(t=this._activeParticlesFirst;t;t=e)e=t.next,this.recycle(t,!0);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0}destroy(){let t;this.autoUpdate=!1,this.cleanup();for(let e=this._poolFirst;e;e=t)t=e.next,e.destroy();this._poolFirst=this._parent=this.spawnPos=this.ownerPos=this.customEase=this._completeCallback=null}}f.knownBehaviors={};class v{constructor(t){this.x=t.x,this.y=t.y,this.w=t.w,this.h=t.h}getRandPos(t){t.x=Math.random()*this.w+this.x,t.y=Math.random()*this.h+this.y}}class x{constructor(t){this.x=t.x||0,this.y=t.y||0,this.radius=t.radius,this.innerRadius=t.innerRadius||0,this.rotation=!!t.affectRotation}getRandPos(e){this.innerRadius!==this.radius?e.x=Math.random()*(this.radius-this.innerRadius)+this.innerRadius:e.x=this.radius,e.y=0;const i=Math.random()*Math.PI*2;this.rotation&&(e.rotation+=i),t.ParticleUtils.rotatePoint(i,e.position),e.position.x+=this.x,e.position.y+=this.y}}class g{constructor(t){this.segments=[],this.countingLengths=[],this.totalLength=0,this.init(t)}init(t){if(t&&t.length)if(Array.isArray(t[0]))for(let e=0;e<t.length;++e){const i=t[e];let s=i[0];for(let t=1;t<i.length;++t){const e=i[t];this.segments.push({p1:s,p2:e,l:0}),s=e}}else{let e=t[0];for(let i=1;i<t.length;++i){const s=t[i];this.segments.push({p1:e,p2:s,l:0}),e=s}}else this.segments.push({p1:{x:0,y:0},p2:{x:0,y:0},l:0});for(let t=0;t<this.segments.length;++t){const{p1:e,p2:i}=this.segments[t],s=Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y));this.segments[t].l=s,this.totalLength+=s,this.countingLengths.push(this.totalLength)}}getRandPos(t){const e=Math.random()*this.totalLength;let i,s;if(1===this.segments.length)i=this.segments[0],s=e;else for(let t=0;t<this.countingLengths.length;++t)if(e<this.countingLengths[t]){i=this.segments[t],s=0===t?e:e-this.countingLengths[t-1];break}s/=i.l||1;const{p1:r,p2:a}=i;t.x=r.x+s*(a.x-r.x),t.y=r.y+s*(a.y-r.y)}}var C={__proto__:null,Rectangle:v,Torus:x,PolygonalChain:g};class _{constructor(t){var e;this.order=p.Late,this.minStart=t.minStart,this.maxStart=t.maxStart,this.accel=t.accel,this.rotate=!!t.rotate,this.maxSpeed=null!==(e=t.maxSpeed)&&void 0!==e?e:0}initParticles(e){let i=e;for(;i;){const e=Math.random()*(this.maxStart-this.minStart)+this.minStart;i.config.velocity?i.config.velocity.set(e,0):i.config.velocity=new a.Point(e,0),t.ParticleUtils.rotatePoint(i.rotation,i.config.velocity),i=i.next}}updateParticle(e,i){const s=e.config.velocity,r=s.x,a=s.y;if(s.x+=this.accel.x*i,s.y+=this.accel.y*i,this.maxSpeed){const e=t.ParticleUtils.length(s);e>this.maxSpeed&&t.ParticleUtils.scaleBy(s,this.maxSpeed/e)}e.x+=(r+s.x)/2*i,e.y+=(a+s.y)/2*i,this.rotate&&(e.rotation=Math.atan2(s.y,s.x))}}function y(t){return this.ease&&(t=this.ease(t)),(this.first.next.value-this.first.value)*t+this.first.value}function P(e){this.ease&&(e=this.ease(e));const i=this.first.value,s=this.first.next.value,r=(s.r-i.r)*e+i.r,a=(s.g-i.g)*e+i.g,n=(s.b-i.b)*e+i.b;return t.ParticleUtils.combineRGBComponents(r,a,n)}function w(t){this.ease&&(t=this.ease(t));let e=this.first,i=e.next;for(;t>i.time;)e=i,i=i.next;return t=(t-e.time)/(i.time-e.time),(i.value-e.value)*t+e.value}function S(e){this.ease&&(e=this.ease(e));let i=this.first,s=i.next;for(;e>s.time;)i=s,s=s.next;e=(e-i.time)/(s.time-i.time);const r=i.value,a=s.value,n=(a.r-r.r)*e+r.r,h=(a.g-r.g)*e+r.g,o=(a.b-r.b)*e+r.b;return t.ParticleUtils.combineRGBComponents(n,h,o)}function b(t){this.ease&&(t=this.ease(t));let e=this.first;for(;e.next&&t>e.next.time;)e=e.next;return e.value}function B(e){this.ease&&(e=this.ease(e));let i=this.first;for(;i.next&&e>i.next.time;)i=i.next;const s=i.value;return t.ParticleUtils.combineRGBComponents(s.r,s.g,s.b)}_.type="moveAcceleration";class L{constructor(t=!1){this.first=null,this.isColor=!!t,this.interpolate=null,this.ease=null}reset(t){this.first=t,t.next&&t.next.time>=1?this.interpolate=this.isColor?P:y:t.isStepped?this.interpolate=this.isColor?B:b:this.interpolate=this.isColor?S:w,this.ease=this.first.ease}}class M{constructor(t){this.order=p.Normal,this.list=new L(!1),this.list.reset(o.createList(t.alpha))}initParticles(t){let e=t;for(;e;)e.alpha=this.list.first.value,e=e.next}updateParticle(t){t.alpha=this.list.interpolate(t.agePercent)}}M.type="alpha";class R{constructor(t){this.order=p.Normal,this.value=t.alpha}initParticles(t){let e=t;for(;e;)e.alpha=this.value,e=e.next}}function E(t){const i=[];for(let s=0;s<t.length;++s){let r=t[s];if("string"==typeof r)i.push(c(r));else if(r instanceof e.Texture)i.push(r);else{let t=r.count||1;for(r="string"==typeof r.texture?c(r.texture):r.texture;t>0;--t)i.push(r)}}return i}R.type="alphaStatic";class D{constructor(t){this.order=p.Normal,this.anims=[];for(let e=0;e<t.anims.length;++e){const i=t.anims[e],s=E(i.textures),r="matchLife"===i.framerate?-1:i.framerate>0?i.framerate:60,a={textures:s,duration:r>0?s.length/r:0,framerate:r,loop:r>0&&!!i.loop};this.anims.push(a)}}initParticles(t){let e=t;for(;e;){const t=Math.floor(Math.random()*this.anims.length),i=e.config.anim=this.anims[t];e.texture=i.textures[0],e.config.animElapsed=0,-1===i.framerate?(e.config.animDuration=e.maxLife,e.config.animFramerate=i.textures.length/e.maxLife):(e.config.animDuration=i.duration,e.config.animFramerate=i.framerate),e=e.next}}updateParticle(t,i){const s=t.config,r=s.anim;s.animElapsed+=i,s.animElapsed>=s.animDuration&&(s.anim.loop?s.animElapsed=s.animElapsed%s.animDuration:s.animElapsed=s.animDuration-1e-6);const a=s.animElapsed*s.animFramerate+1e-7|0;t.texture=r.textures[a]||r.textures[r.textures.length-1]||e.Texture.EMPTY}}D.type="animatedRandom";class A{constructor(t){this.order=p.Normal;const e=t.anim,i=E(e.textures),s="matchLife"===e.framerate?-1:e.framerate>0?e.framerate:60;this.anim={textures:i,duration:s>0?i.length/s:0,framerate:s,loop:s>0&&!!e.loop}}initParticles(t){let e=t;const i=this.anim;for(;e;)e.texture=i.textures[0],e.config.animElapsed=0,-1===i.framerate?(e.config.animDuration=e.maxLife,e.config.animFramerate=i.textures.length/e.maxLife):(e.config.animDuration=i.duration,e.config.animFramerate=i.framerate),e=e.next}updateParticle(t,i){const s=this.anim,r=t.config;r.animElapsed+=i,r.animElapsed>=r.animDuration&&(r.anim.loop?r.animElapsed=r.animElapsed%r.animDuration:r.animElapsed=r.animDuration-1e-6);const a=r.animElapsed*r.animFramerate+1e-7|0;t.texture=s.textures[a]||s.textures[s.textures.length-1]||e.Texture.EMPTY}}A.type="animatedSingle";class T{constructor(t){this.order=p.Normal,this.value=t.blendMode}initParticles(e){let i=e;for(;i;)i.blendMode=t.ParticleUtils.getBlendMode(this.value),i=i.next}}T.type="blendMode";class I{constructor(e){this.order=p.Spawn,this.spacing=e.spacing*t.ParticleUtils.DEG_TO_RADS,this.start=e.start*t.ParticleUtils.DEG_TO_RADS,this.distance=e.distance}initParticles(e){let i=0,s=e;for(;s;){let e;e=this.spacing?this.start+this.spacing*i:Math.random()*Math.PI*2,s.rotation=e,this.distance&&(s.position.x=this.distance,t.ParticleUtils.rotatePoint(e,s.position)),s=s.next,++i}}}I.type="spawnBurst";class U{constructor(t){this.order=p.Normal,this.list=new L(!0),this.list.reset(o.createList(t.color))}initParticles(e){let i=e;const s=this.list.first.value,r=t.ParticleUtils.combineRGBComponents(s.r,s.g,s.b);for(;i;)i.tint=r,i=i.next}updateParticle(t){t.tint=this.list.interpolate(t.agePercent)}}U.type="color";class k{constructor(t){this.order=p.Normal;let e=t.color;"#"===e.charAt(0)?e=e.substr(1):0===e.indexOf("0x")&&(e=e.substr(2)),this.value=parseInt(e,16)}initParticles(t){let e=t;for(;e;)e.tint=this.value,e=e.next}}k.type="colorStatic";class F{constructor(t){this.order=p.Normal,this.index=0,this.textures=t.textures.map(t=>"string"==typeof t?c(t):t)}initParticles(t){let e=t;for(;e;)e.texture=this.textures[this.index],++this.index>=this.textures.length&&(this.index=0),e=e.next}}F.type="textureOrdered";const O=new a.Point,G=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2","abs","acos","acosh","asin","asinh","atan","atanh","atan2","cbrt","ceil","cos","cosh","exp","expm1","floor","fround","hypot","log","log1p","log10","log2","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh"],N=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(G).join("|"),"g");class q{constructor(e){var i;if(this.order=p.Late,e.path)if("function"==typeof e.path)this.path=e.path;else try{this.path=function(t){const e=t.match(N);for(let t=e.length-1;t>=0;--t)G.indexOf(e[t])>=0&&(e[t]=`Math.${e[t]}`);return t=e.join(""),new Function("x",`return ${t};`)}(e.path)}catch(e){t.ParticleUtils.verbose&&console.error("PathParticle: error in parsing path expression"),this.path=null}else t.ParticleUtils.verbose&&console.error("PathParticle requires a path string in extraData!"),this.path=(t=>t);this.list=new L(!1),this.list.reset(o.createList(e.speed)),this.minMult=null!==(i=e.minMult)&&void 0!==i?i:1}initParticles(t){let e=t;for(;e;){e.config.initRotation=e.rotation,e.config.initPosition?e.config.initPosition.copyFrom(e.position):e.config.initPosition=new a.Point(e.x,e.y),e.config.movement=0;const t=Math.random()*(1-this.minMult)+this.minMult;e.config.speedMult=t,e=e.next}}updateParticle(e,i){const s=this.list.interpolate(e.agePercent)*e.config.speedMult;e.config.movement+=s*i,O.x=e.config.movement,O.y=this.path(O.x),t.ParticleUtils.rotatePoint(e.config.initRotation,O),e.position.x=e.config.initPosition.x+O.x,e.position.y=e.config.initPosition.y+O.y}}q.type="movePath";class W{constructor(){this.order=p.Spawn}initParticles(t){}}W.type="spawnPoint";class X{constructor(t){this.order=p.Normal,this.textures=t.textures.map(t=>"string"==typeof t?c(t):t)}initParticles(t){let e=t;for(;e;){const t=Math.floor(Math.random()*this.textures.length);e.texture=this.textures[t],e=e.next}}}X.type="textureRandom";class ${constructor(e){this.order=p.Normal,this.minStart=e.minStart*t.ParticleUtils.DEG_TO_RADS,this.maxStart=e.maxStart*t.ParticleUtils.DEG_TO_RADS,this.minSpeed=e.minSpeed*t.ParticleUtils.DEG_TO_RADS,this.maxSpeed=e.maxSpeed*t.ParticleUtils.DEG_TO_RADS,this.accel=e.accel*t.ParticleUtils.DEG_TO_RADS}initParticles(t){let e=t;for(;e;)this.minStart===this.maxStart?e.rotation+=this.maxStart:e.rotation+=Math.random()*(this.maxStart-this.minStart)+this.minStart,e.config.rotSpeed=Math.random()*(this.maxSpeed-this.minSpeed)+this.minSpeed,e=e.next}updateParticle(t,e){if(this.accel){const i=t.config.rotSpeed;t.config.rotSpeed+=this.accel*e,t.rotation+=(t.config.rotSpeed+i)/2*e}else t.rotation+=t.config.rotSpeed*e}}$.type="rotation";class j{constructor(e){this.order=p.Normal,this.min=e.min*t.ParticleUtils.DEG_TO_RADS,this.max=e.max*t.ParticleUtils.DEG_TO_RADS}initParticles(t){let e=t;for(;e;)this.min===this.max?e.rotation+=this.max:e.rotation+=Math.random()*(this.max-this.min)+this.min,e=e.next}}j.type="rotationStatic";class V{constructor(){this.order=p.Late+1}initParticles(t){let e=t;for(;e;)e.rotation=0,e=e.next}}V.type="noRotation";class z{constructor(t){this.order=p.Normal,this.list=new L(!1),this.list.reset(o.createList(t.scale)),this.minMult=t.minMult}initParticles(t){let e=t;for(;e;){const t=Math.random()*(1-this.minMult)+this.minMult;e.config.scaleMult=t,e.scale.x=e.scale.y=this.list.first.value*t,e=e.next}}updateParticle(t){t.scale.x=t.scale.y=this.list.interpolate(t.agePercent)*t.config.scaleMult}}z.type="scale";class Q{constructor(t){this.order=p.Normal,this.min=t.min,this.max=t.max}initParticles(t){let e=t;for(;e;){const t=Math.random()*(this.max-this.min)+this.min;e.scale.x=e.scale.y=t,e=e.next}}}Q.type="scaleStatic";class Y{constructor(t){this.order=p.Spawn;const e=Y.shapes[t.type];if(!e)throw new Error(`No shape found with type '${t.type}'`);this.shape=new e(t.data)}static registerShape(t,e){Y.shapes[t]=e}initParticles(t){let e=t;for(;e;)this.shape.getRandPos(e),e=e.next}}Y.type="spawnShape",Y.shapes={},Y.registerShape("polygonalChain",g),Y.registerShape("rect",v),Y.registerShape("torus",x),Y.registerShape("circle",x);class H{constructor(t){this.order=p.Normal,this.texture="string"==typeof t.texture?c(t.texture):t.texture}initParticles(t){let e=t;for(;e;)e.texture=this.texture,e=e.next}}H.type="textureSingle";class J{constructor(t){var e;this.order=p.Late,this.list=new L(!1),this.list.reset(o.createList(t.speed)),this.minMult=null!==(e=t.minMult)&&void 0!==e?e:1}initParticles(e){let i=e;for(;i;){const e=Math.random()*(1-this.minMult)+this.minMult;i.config.speedMult=e,i.config.velocity?i.config.velocity.set(this.list.first.value*e,0):i.config.velocity=new a.Point(this.list.first.value*e,0),t.ParticleUtils.rotatePoint(i.rotation,i.config.velocity),i=i.next}}updateParticle(e,i){const s=this.list.interpolate(e.agePercent)*e.config.speedMult,r=e.config.velocity;t.ParticleUtils.normalize(r),t.ParticleUtils.scaleBy(r,s),e.x+=r.x*i,e.y+=r.y*i}}J.type="moveSpeed";class K{constructor(t){this.order=p.Late,this.min=t.min,this.max=t.max}initParticles(e){let i=e;for(;i;){const e=Math.random()*(this.max-this.min)+this.min;i.config.velocity?i.config.velocity.set(e,0):i.config.velocity=new a.Point(e,0),t.ParticleUtils.rotatePoint(i.rotation,i.config.velocity),i=i.next}}updateParticle(t,e){const i=t.config.velocity;t.x+=i.x*e,t.y+=i.y*e}}K.type="moveSpeedStatic";var Z={__proto__:null,spawnShapes:C,get BehaviorOrder(){return p},AccelerationBehavior:_,AlphaBehavior:M,StaticAlphaBehavior:R,RandomAnimatedTextureBehavior:D,SingleAnimatedTextureBehavior:A,BlendModeBehavior:T,BurstSpawn:I,ColorBehavior:U,StaticColorBehavior:k,OrderedTextureBehavior:F,PathBehavior:q,PointSpawn:W,RandomTextureBehavior:X,RotationBehavior:$,StaticRotationBehavior:j,NoRotationBehavior:V,ScaleBehavior:z,StaticScaleBehavior:Q,ShapeSpawn:Y,SingleTextureBehavior:H,SpeedBehavior:J,StaticSpeedBehavior:K};f.registerBehavior(_),f.registerBehavior(M),f.registerBehavior(R),f.registerBehavior(D),f.registerBehavior(A),f.registerBehavior(T),f.registerBehavior(I),f.registerBehavior(U),f.registerBehavior(k),f.registerBehavior(F),f.registerBehavior(q),f.registerBehavior(W),f.registerBehavior(X),f.registerBehavior($),f.registerBehavior(j),f.registerBehavior(V),f.registerBehavior(z),f.registerBehavior(Q),f.registerBehavior(Y),f.registerBehavior(H),f.registerBehavior(J),f.registerBehavior(K),t.Emitter=f,t.GetTextureFromString=c,t.LinkedListContainer=class extends h.Container{constructor(){super(...arguments),this._firstChild=null,this._lastChild=null,this._childCount=0}get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}get childCount(){return this._childCount}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this._lastChild?(this._lastChild.nextChild=e,e.prevChild=this._lastChild,this._lastChild=e):this._firstChild=this._lastChild=e,++this._childCount,this._boundsID++,this.onChildrenChange(),this.emit("childAdded",e,this,this._childCount),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this._childCount)throw new Error(`addChildAt: The index ${e} supplied is out of bounds ${this._childCount}`);t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1;const i=t;if(this._firstChild)if(0===e)this._firstChild.prevChild=i,i.nextChild=this._firstChild,this._firstChild=i;else if(e===this._childCount)this._lastChild.nextChild=i,i.prevChild=this._lastChild,this._lastChild=i;else{let t=0,s=this._firstChild;for(;t<e;)s=s.nextChild,++t;s.prevChild.nextChild=i,i.prevChild=s.prevChild,i.nextChild=s,s.prevChild=i}else this._firstChild=this._lastChild=i;return++this._childCount,this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}addChildBelow(t,e){if(e.parent!==this)throw new Error("addChildBelow: The relative target must be a child of this parent");return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,e.prevChild.nextChild=t,t.prevChild=e.prevChild,t.nextChild=e,e.prevChild=t,this._firstChild===e&&(this._firstChild=t),++this._childCount,this._boundsID++,this.onChildrenChange(),this.emit("childAdded",t,this,this._childCount),t.emit("added",this),t}addChildAbove(t,e){if(e.parent!==this)throw new Error("addChildBelow: The relative target must be a child of this parent");return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,e.nextChild.prevChild=t,t.nextChild=e.nextChild,t.prevChild=e,e.nextChild=t,this._lastChild===e&&(this._lastChild=t),++this._childCount,this._boundsID++,this.onChildrenChange(),this.emit("childAdded",t,this,this._childCount),t.emit("added",this),t}swapChildren(t,e){if(t===e||t.parent!==this||e.parent!==this)return;const{prevChild:i,nextChild:s}=t;t.prevChild=e.prevChild,t.nextChild=e.nextChild,e.prevChild=i,e.nextChild=s,this._firstChild===t?this._firstChild=e:this._firstChild===e&&(this._firstChild=t),this._lastChild===t?this._lastChild=e:this._lastChild===e&&(this._lastChild=t),this.onChildrenChange()}getChildIndex(t){let e=0,i=this._firstChild;for(;i&&i!==t;)i=i.nextChild,++e;if(!i)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this._childCount)throw new Error(`The index ${e} supplied is out of bounds ${this._childCount}`);if(t.parent!==this)throw new Error("The supplied DisplayObject must be a child of the caller");if(t.nextChild&&(t.nextChild.prevChild=t.prevChild),t.prevChild&&(t.prevChild.nextChild=t.nextChild),this._firstChild===t&&(this._firstChild=t.nextChild),this._lastChild===t&&(this._lastChild=t.prevChild),t.nextChild=null,t.prevChild=null,this._firstChild)if(0===e)this._firstChild.prevChild=t,t.nextChild=this._firstChild,this._firstChild=t;else if(e===this._childCount)this._lastChild.nextChild=t,t.prevChild=this._lastChild,this._lastChild=t;else{let i=0,s=this._firstChild;for(;i<e;)s=s.nextChild,++i;s.prevChild.nextChild=t,t.prevChild=s.prevChild,t.nextChild=s,s.prevChild=t}else this._firstChild=this._lastChild=t;this.onChildrenChange(e)}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0];if(e.parent!==this)return null;e.parent=null,e.transform._parentID=-1,e.nextChild&&(e.nextChild.prevChild=e.prevChild),e.prevChild&&(e.prevChild.nextChild=e.nextChild),this._firstChild===e&&(this._firstChild=e.nextChild),this._lastChild===e&&(this._lastChild=e.prevChild),e.nextChild=null,e.prevChild=null,--this._childCount,this._boundsID++,this.onChildrenChange(),e.emit("removed",this),this.emit("childRemoved",e,this)}return t[0]}getChildAt(t){if(t<0||t>=this._childCount)throw new Error(`getChildAt: Index (${t}) does not exist.`);if(0===t)return this._firstChild;if(t===this._childCount)return this._lastChild;let e=0,i=this._firstChild;for(;e<t;)i=i.nextChild,++e;return i}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,e.nextChild&&(e.nextChild.prevChild=e.prevChild),e.prevChild&&(e.prevChild.nextChild=e.nextChild),this._firstChild===e&&(this._firstChild=e.nextChild),this._lastChild===e&&(this._lastChild=e.prevChild),e.nextChild=null,e.prevChild=null,--this._childCount,this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this._childCount){const i=t,s=e,r=s-i;if(r>0&&r<=s){const e=[];let r=this._firstChild;for(let t=0;t<=s&&r;++t,r=r.nextChild)t>=i&&e.push(r);const a=e[0].prevChild,n=e[e.length-1].nextChild;n?n.prevChild=a:this._lastChild=a,a?a.nextChild=n:this._firstChild=n;for(let t=0;t<e.length;++t)e[t].parent=null,e[t].transform&&(e[t].transform._parentID=-1),e[t].nextChild=null,e[t].prevChild=null;this._boundsID++,this.onChildrenChange(t);for(let t=0;t<e.length;++t)e[t].emit("removed",this),this.emit("childRemoved",e[t],this,t);return e}if(0===r&&0===this._childCount)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}updateTransform(){let t,e;for(this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,t=this._firstChild;t;t=e)e=t.nextChild,t.visible&&t.updateTransform()}calculateBounds(){let t,e;for(this._bounds.clear(),this._calculateBounds(),t=this._firstChild;t;t=e)if(e=t.nextChild,t.visible&&t.renderable)if(t.calculateBounds(),t._mask){const e=t._mask.maskObject||t._mask;e.calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds);this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const i=h.DisplayObject.prototype.getLocalBounds.call(this,t);if(!e){let t,e;for(t=this._firstChild;t;t=e)e=t.nextChild,t.visible&&t.updateTransform()}return i}render(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{let e,i;for(this._render(t),e=this._firstChild;e;e=i)i=e.nextChild,e.render(t)}}renderAdvanced(t){t.batch.flush();const e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let t=0;t<e.length;t++)e[t].enabled&&this._enabledFilters.push(e[t]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}let s,r;for(i&&t.mask.push(this,this._mask),this._render(t),s=this._firstChild;s;s=r)r=s.nextChild,s.render(t);t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()}renderCanvas(t){if(!this.visible||this.worldAlpha<=0||!this.renderable)return;let e,i;for(this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t),e=this._firstChild;e;e=i)i=e.nextChild,e.renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},t.Particle=d,t.PropertyList=L,t.PropertyNode=o,t.behaviors=Z,t.upgradeConfig=function(t,e){var i,s,r,a,n,h,o,l,c,d,p,u,m,f,v,x,g,C,_,y;if("behaviors"in t)return t;const P={lifetime:t.lifetime,ease:t.ease,particlesPerWave:t.particlesPerWave,frequency:t.frequency,spawnChance:t.spawnChance,emitterLifetime:t.emitterLifetime,maxParticles:t.maxParticles,addAtBack:t.addAtBack,pos:t.pos,emit:t.emit,autoUpdate:t.autoUpdate,behaviors:[]};if(t.alpha)if("start"in t.alpha)if(t.alpha.start===t.alpha.end)1!==t.alpha.start&&P.behaviors.push({type:"alphaStatic",config:{alpha:t.alpha.start}});else{const e={list:[{time:0,value:t.alpha.start},{time:1,value:t.alpha.end}]};P.behaviors.push({type:"alpha",config:{alpha:e}})}else 1===t.alpha.list.length?1!==t.alpha.list[0].value&&P.behaviors.push({type:"alphaStatic",config:{alpha:t.alpha.list[0].value}}):P.behaviors.push({type:"alpha",config:{alpha:t.alpha}});if(t.acceleration&&(t.acceleration.x||t.acceleration.y)){let e,r;"start"in t.speed?(e=t.speed.start*(null!==(i=t.speed.minimumSpeedMultiplier)&&void 0!==i?i:1),r=t.speed.start):(e=t.speed.list[0].value*(null!==(s=t.minimumSpeedMultiplier)&&void 0!==s?s:1),r=t.speed.list[0].value),P.behaviors.push({type:"moveAcceleration",config:{accel:t.acceleration,minStart:e,maxStart:r,rotate:!t.noRotation,maxSpeed:t.maxSpeed}})}else if(null===(r=t.extraData)||void 0===r?void 0:r.path){let e,i;"start"in t.speed?(i=null!==(a=t.speed.minimumSpeedMultiplier)&&void 0!==a?a:1,e=t.speed.start===t.speed.end?{list:[{time:0,value:t.speed.start}]}:{list:[{time:0,value:t.speed.start},{time:1,value:t.speed.end}]}):(e=t.speed,i=null!==(n=t.minimumSpeedMultiplier)&&void 0!==n?n:1),P.behaviors.push({type:"movePath",config:{path:t.extraData.path,speed:e,minMult:i}})}else if("start"in t.speed)if(t.speed.start===t.speed.end)P.behaviors.push({type:"moveSpeedStatic",config:{min:t.speed.start*(null!==(h=t.speed.minimumSpeedMultiplier)&&void 0!==h?h:1),max:t.speed.start}});else{const e={list:[{time:0,value:t.speed.start},{time:1,value:t.speed.end}]};P.behaviors.push({type:"moveSpeed",config:{speed:e,minMult:t.speed.minimumSpeedMultiplier}})}else 1===t.speed.list.length?P.behaviors.push({type:"moveSpeedStatic",config:{min:t.speed.list[0].value*(null!==(o=t.minimumSpeedMultiplier)&&void 0!==o?o:1),max:t.speed.list[0].value}}):P.behaviors.push({type:"moveSpeed",config:{speed:t.speed,minMult:null!==(l=t.minimumSpeedMultiplier)&&void 0!==l?l:1}});if(t.scale)if("start"in t.scale){const e=null!==(c=t.scale.minimumScaleMultiplier)&&void 0!==c?c:1;if(t.scale.start===t.scale.end)P.behaviors.push({type:"scaleStatic",config:{min:t.scale.start*e,max:t.scale.start}});else{const i={list:[{time:0,value:t.scale.start},{time:1,value:t.scale.end}]};P.behaviors.push({type:"scale",config:{scale:i,minMult:e}})}}else if(1===t.scale.list.length){const e=null!==(d=t.minimumScaleMultiplier)&&void 0!==d?d:1,i=t.scale.list[0].value;P.behaviors.push({type:"scaleStatic",config:{min:i*e,max:i}})}else P.behaviors.push({type:"scale",config:{scale:t.scale,minMult:null!==(p=t.minimumScaleMultiplier)&&void 0!==p?p:1}});if(t.color)if("start"in t.color)if(t.color.start===t.color.end)"ffffff"!==t.color.start&&P.behaviors.push({type:"colorStatic",config:{color:t.color.start}});else{const e={list:[{time:0,value:t.color.start},{time:1,value:t.color.end}]};P.behaviors.push({type:"color",config:{color:e}})}else 1===t.color.list.length?"ffffff"!==t.color.list[0].value&&P.behaviors.push({type:"colorStatic",config:{color:t.color.list[0].value}}):P.behaviors.push({type:"color",config:{color:t.color}});if(t.rotationAcceleration||(null===(u=t.rotationSpeed)||void 0===u?void 0:u.min)||t.rotationSpeed.max?P.behaviors.push({type:"rotation",config:{accel:t.rotationAcceleration||0,minSpeed:(null===(m=t.rotationSpeed)||void 0===m?void 0:m.min)||0,maxSpeed:(null===(f=t.rotationSpeed)||void 0===f?void 0:f.max)||0,minStart:(null===(v=t.startRotation)||void 0===v?void 0:v.min)||0,maxStart:(null===(x=t.startRotation)||void 0===x?void 0:x.max)||0}}):((null===(g=t.startRotation)||void 0===g?void 0:g.min)||(null===(C=t.startRotation)||void 0===C?void 0:C.max))&&P.behaviors.push({type:"rotationStatic",config:{min:(null===(_=t.startRotation)||void 0===_?void 0:_.min)||0,max:(null===(y=t.startRotation)||void 0===y?void 0:y.max)||0}}),t.noRotation&&P.behaviors.push({type:"noRotation",config:{}}),t.blendMode&&"normal"!==t.blendMode&&P.behaviors.push({type:"blendMode",config:{blendMode:t.blendMode}}),Array.isArray(e)&&"string"!=typeof e[0]&&"framerate"in e[0]?P.behaviors.push({type:"animatedRandom",config:{anims:e}}):"string"!=typeof e&&"framerate"in e?P.behaviors.push({type:"animatedSingle",config:{anim:e}}):t.orderedArt&&Array.isArray(e)?P.behaviors.push({type:"textureOrdered",config:{textures:e}}):Array.isArray(e)?P.behaviors.push({type:"textureRandom",config:{textures:e}}):P.behaviors.push({type:"textureSingle",config:{texture:e}}),"burst"===t.spawnType)P.behaviors.push({type:"spawnBurst",config:{start:t.angleStart||0,spacing:t.particleSpacing,distance:0}});else if("point"===t.spawnType)P.behaviors.push({type:"spawnPoint",config:{}});else{let e;"ring"===t.spawnType?e={type:"torus",data:{x:t.spawnCircle.x,y:t.spawnCircle.y,radius:t.spawnCircle.r,innerRadius:t.spawnCircle.minR,affectRotation:!0}}:"circle"===t.spawnType?e={type:"torus",data:{x:t.spawnCircle.x,y:t.spawnCircle.y,radius:t.spawnCircle.r,innerRadius:0,affectRotation:!1}}:"rect"===t.spawnType?e={type:"rect",data:t.spawnRect}:"polygonalChain"===t.spawnType&&(e={type:"polygonalChain",data:t.spawnPolygon}),P.behaviors.push({type:"spawnShape",config:e})}return P}}(this.PIXI.particles=this.PIXI.particles||{},PIXI,PIXI,PIXI,PIXI,PIXI,PIXI,PIXI);
//# sourceMappingURL=pixi-particles.min.js.map